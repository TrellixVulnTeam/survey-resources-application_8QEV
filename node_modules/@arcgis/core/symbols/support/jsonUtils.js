/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import e from"../../core/Error.js";import s from"../Symbol3D.js";import o from"../WebStyleSymbol.js";import{readSymbol as n}from"../../symbols.js";import{to3D as r}from"./symbolConversion.js";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(n,t,m){if(!n)return null;if(m&&"web-scene"===m.origin&&!(n instanceof s)&&!(n instanceof o)){const s="cim"!==n.type?r(n):{symbol:null,error:new e("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:n})};return s.symbol?s.symbol.write(t,m):(m.messages&&m.messages.push(new e("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:n,context:m,error:s.error})),null)}return m&&"web-map"===m.origin&&"web-style"===n.type?(m.messages&&m.messages.push(new e("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:n,context:m})),null):n.write(t,m)}function i(e,s){return n(e,null,s)}export{i as fromJSON,t as write};
