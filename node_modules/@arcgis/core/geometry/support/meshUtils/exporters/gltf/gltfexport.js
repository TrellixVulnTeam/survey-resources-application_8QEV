/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{Asset as e}from"./asset.js";import{Scene as o}from"./scene.js";import{Node as t}from"./node.js";import{exportGLB as n,MODEL_NAME_GLB as i}from"./index.js";class r{constructor(e,o){this.file={type:"model/gltf-binary",data:e},this.origin=o}buffer(){return Promise.resolve(this.file)}download(e){return new Promise((()=>{const o=new Blob([this.file.data],{type:this.file.type});let t=e;t||(t="model.glb");if("glb"!==t.split(".").pop()&&(t+=".glb"),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,t);else{const e=document.createElement("a"),n=URL.createObjectURL(o);e.href=n,e.download=t,document.body.appendChild(e),e.click(),setTimeout((function(){document.body.removeChild(e),window.URL.revokeObjectURL(n)}),0)}}))}}function s(s,d){const l=new e,a=new o;l.addScene(a);const m=new t;return a.addNode(m),m.mesh=s,n(l,d).then((e=>new r(e[i],e.origin)))}export{s as toBinaryGLTF};
