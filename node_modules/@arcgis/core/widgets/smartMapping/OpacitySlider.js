/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as s}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import{property as i}from"../../core/accessorSupport/decorators/property.js";import{aliasOf as e}from"../../core/accessorSupport/decorators/aliasOf.js";import{cast as t}from"../../core/accessorSupport/decorators/cast.js";import{subclass as r}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import o from"../../Color.js";import"../support/widgetUtils.js";import{messageBundle as a}from"../support/decorators/messageBundle.js";import{j as l}from"../../chunks/index.js";import{SmartMappingSliderBase as p}from"./SmartMappingSliderBase.js";import d from"./OpacitySlider/OpacitySliderViewModel.js";var n;const m={base:"esri-opacity-slider",rampElement:"esri-opacity-slider__ramp",sliderContainer:"esri-opacity-slider__slider-container",histogramContainer:"esri-opacity-slider__histogram-container",esriWidget:"esri-widget",esriWidgetPanel:"esri-widget--panel",widgetIcon:"esri-icon-edit",disabled:"esri-disabled"},c={trackFillColor:new o([0,121,193])};let g=n=class extends p{constructor(s,i){super(s,i),this._bgFillId=null,this._rampFillId=null,this.label=void 0,this.messages=null,this.stops=null,this.style={...c},this.viewModel=new d,this.zoomOptions=null,this._rampFillId=`${this.id}-ramp-fill`,this._bgFillId=`${this.id}-bg-fill`}castStyle(s){return{...c,...s}}static fromVisualVariableResult(s,i){const{visualVariable:{stops:e},statistics:t}=s,{avg:r,max:o,min:a,stddev:l}=t;return new n({max:o,min:a,stops:e,histogramConfig:{average:r,standardDeviation:l,bins:i?i.bins:[]}})}updateFromVisualVariableResult(s,i){const{visualVariable:{stops:e},statistics:t}=s,{avg:r,max:o,min:a,stddev:l}=t;this.set({max:o,min:a,stops:e,histogramConfig:{average:r,standardDeviation:l,bins:i?i.bins:[]}})}render(){const{state:s,label:i}=this,e="disabled"===s,t=this.classes(m.base,m.esriWidget,m.esriWidgetPanel,{[m.disabled]:e});return l("div",{"aria-label":i,class:t},e?null:this.renderContent(this.renderRamp(),m.sliderContainer,m.histogramContainer))}renderRamp(){const{_bgFillId:s,_rampFillId:i,style:{trackFillColor:e},viewModel:t,zoomOptions:r}=this,o=t.getStopInfo(e);return l("div",{class:m.rampElement},l("svg",{xmlns:"http://www.w3.org/2000/svg"},l("defs",null,this.renderRampFillDefinition(i,o),this.renderBackgroundFillDefinition(s)),l("rect",{x:"0",y:"0",fill:`url(#${s})`,height:"100%",width:"100%"}),l("rect",{x:"0",y:"0",fill:`url(#${i})`,height:"100%",width:"100%"})),r?this.renderZoomCaps():null)}};s([i({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],g.prototype,"label",void 0),s([i(),a("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],g.prototype,"messages",void 0),s([e("viewModel.stops")],g.prototype,"stops",void 0),s([i()],g.prototype,"style",void 0),s([t("style")],g.prototype,"castStyle",null),s([i()],g.prototype,"viewModel",void 0),s([e("viewModel.zoomOptions")],g.prototype,"zoomOptions",void 0),g=n=s([r("esri.widgets.smartMapping.OpacitySlider")],g);var u=g;export default u;
