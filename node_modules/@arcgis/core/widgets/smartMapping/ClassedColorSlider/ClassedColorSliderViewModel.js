/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import{isSome as e}from"../../../core/maybe.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import o from"../SmartMappingSliderViewModel.js";let a=class extends o{constructor(t){super(t),this.zoomingEnabled=!1}set breaks(t){this._set("breaks",t),this.notifyChange("max"),this.notifyChange("min")}set max(t){this._updateBreakMax(t),this.setMax(t)}get max(){const{breaks:t}=this;return t&&t.length?t[t.length-1].max:null}set min(t){this._updateBreakMin(t),this.setMin(t)}get min(){const{breaks:t}=this;return t&&t.length?t[0].min:null}get values(){const{breaks:t}=this;if(!t||!t.length)return[];const e=t.map((t=>t.max));return e.pop(),e}setValue(t,e){const{max:s,min:r}=this;e>s||e<r||(this._updateBreakInfos(e,t),this.notifyChange("values"),this.notifyChange("labels"))}getStopInfo(){const{breaks:t,max:e,min:s}=this,r=e-s;if(!t||!t.length||!r)return[];const o=[];return t.forEach((t=>{const{color:a,max:n,min:i}=t;let l,m;e===s?l=m=0:(l=(e-i)/r,m=(e-n)/r),o.push({offset:l,color:a},{offset:m,color:a})})),o}_updateBreakMax(t){const{breaks:s,max:r,min:o}=this;!isNaN(t)&&r!==t&&e(o)&&t>o&&s&&s.length&&(s[s.length-1].max=t)}_updateBreakMin(t){const{breaks:s,max:r,min:o}=this;!isNaN(t)&&o!==t&&e(r)&&t<r&&s&&s.length&&(s[0].min=t)}_updateBreakInfos(t,s){const{breaks:r}=this;r[s].max=t,r[s].min>r[s].max&&(r[s].min=t),e(r[s+1])&&(r[s+1].min=t)}};t([s()],a.prototype,"breaks",null),t([s()],a.prototype,"max",null),t([s()],a.prototype,"min",null),t([s({readOnly:!0})],a.prototype,"values",null),t([s({readOnly:!0})],a.prototype,"zoomingEnabled",void 0),a=t([r("esri.widgets.smartMapping.ClassedColorSlider.ClassedColorSliderViewModel")],a);var n=a;export default n;
