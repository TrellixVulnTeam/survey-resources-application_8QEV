/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as s}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import{isSome as e}from"../../../core/maybe.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import{subclass as o}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import r from"../SmartMappingPrimaryHandleSliderViewModel.js";let a=class extends r{constructor(s){super(s),this.persistSizeRangeEnabled=!1}set stops(s){if(s&&s.length){const t=s.map((s=>s.value)),{max:o,min:r}=this,a={};e(r)&&t.some((s=>s<r))&&(a.min=Math.min(...t)),e(o)&&t.some((s=>s>o))&&(a.max=Math.max(...t)),this.set({...a})}this._set("stops",s)}updateStops(s){const{primaryHandleEnabled:e,persistSizeRangeEnabled:t,stops:o}=this,r=this.getValuesFromStops();for(const a of s)r[a.index]=a.value;if(o.forEach(((s,e)=>s.value=r[e])),e&&t){const{stops:s}=this,e=this.getValuesFromStops(),t=s.map((s=>s.size)),o=Math.max(...t),r=Math.min(...t),a=Math.max(...e),i=Math.min(...e),p=s[5===s.length?2:1].value,m=Math.abs(a-p),l=Math.abs(i-p),n=m>l?m:l,c=o-r;s.forEach((s=>{s.size=Math.abs(s.value-p)/n*c+r}))}}};s([t()],a.prototype,"persistSizeRangeEnabled",void 0),s([t()],a.prototype,"stops",null),a=s([o("esri.widgets.smartMapping.SizeSlider.SizeSliderViewModel")],a);var i=a;export default i;
