/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import"../../../../core/has.js";import"../../../../core/Logger.js";import{classes as e}from"../../../support/widgetUtils.js";import{j as a}from"../../../../chunks/index.js";import{generateFillAttributes as r,generateStrokeAttributes as l,renderDef as t,renderShape as s,getBoundingBox as i,computeBBox as o,getTransformMatrix as n}from"../../../../symbols/support/svgUtils.js";const d="http://www.w3.org/2000/svg",m={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function u(r,l,t){const{focus:s,labels:i}=r,o=!!s,n=p(r,l,t);return o?a("div",{class:m.diamondContainer},a("div",{class:m.diamondLeftCol},i.left),a("div",{class:m.diamondMidCol},a("div",{class:m.diamondMidColLabel},i.top),n,a("div",{class:m.diamondMidColLabel},i.bottom)),a("div",{class:m.diamondRightCol},i.right)):a("div",{class:m.squareTable},a("div",{class:m.squareTableRow},a("div",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightBottom)},i.left),a("div",{class:m.squareTableCell}),a("div",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftBottom)},i.top)),a("div",{class:m.squareTableRow},a("div",{class:m.squareTableCell}),n,a("div",{class:m.squareTableCell})),a("div",{class:m.squareTableRow},a("div",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightTop)},i.bottom),a("div",{class:m.squareTableCell}),a("div",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftTop)},i.right)))}function b(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s="left"===e,i={markerStart:null,markerEnd:null};switch(a){case"HL":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case"LL":i.markerStart=`url(#${t})`;break;case"LH":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function p(e,u,p,c=60){const{focus:h,numClasses:k,colors:q,rotation:f}=e,T=!!h,_=Math.sqrt(c**2+c**2)+(T?0:5);let L=null;null!=p&&(L=`opacity: ${p}`);const g=[],C=[],v=[],w=(c||75)/k;for(let a=0;a<k;a++){const e=a*w;for(let o=0;o<k;o++){const n=o*w,d=r(q[a][o]),m=l(null),u={type:"rect",x:n,y:e,width:w,height:w};g.push(t(d)),C.push(s(u,d.fill,m,null)),v.push(i(u))}}const x=10,y=15,R=15,$=10;let E=null;T||(E="margin: -15px -15px -18px -15px");const M=b("left",h,u),S=b("right",h,u),j=o(v),B=n(j,_,_,0,!1,f,!1),H=n(j,_,_,0,!1,T?-45:null,!1);return a("div",{style:L,class:T?m.diamondMidColRamp:m.squareTableCell},a("svg",{xmlns:d,width:_,height:_,style:E},a("defs",null,a("marker",{id:`${u}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},a("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),a("marker",{id:`${u}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},a("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),g),a("g",{transform:B},C),a("g",{transform:H},a("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":M.markerStart,"marker-end":M.markerEnd,x1:-x,y1:c-y,x2:-x,y2:y}),a("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":S.markerStart,"marker-end":S.markerEnd,x1:R,y1:c+$,x2:c-R,y2:c+$}))))}export{u as renderRelationshipRamp};
