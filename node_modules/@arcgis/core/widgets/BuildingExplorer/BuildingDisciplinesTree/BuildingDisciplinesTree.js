/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as i}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as e}from"../../../core/accessorSupport/decorators/property.js";import{subclass as s}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import{on as t,init as o}from"../../../core/watchUtils.js";import"../../support/widgetUtils.js";import{j as r}from"../../../chunks/index.js";import d from"../../Widget.js";import l from"../BuildingDisciplinesViewModel.js";import p from"./BuildingDisciplinesNode.js";const h={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},a={base:`${"esri-building-disciplines-tree"}`};let g=class extends d{constructor(i){super(i),this._defaultViewModel=new l,this.viewModel=this._defaultViewModel,this.messages=h,this.toggleSiblingsVisibility=!1,this._childWidgets=[],this._updateChildWidgets=()=>{this._destroyChildWidgets(),this.viewModel&&(this._childWidgets=this.viewModel.root.children.toArray().reverse().map((i=>new p({node:i,messages:this.messages,toggleSiblingsVisibility:this.toggleSiblingsVisibility}))))}}initialize(){this.own(t(this,"viewModel.root.children","after-changes",this._updateChildWidgets,this._updateChildWidgets,this._updateChildWidgets),o(this,["messages","toggleSiblingsVisibility"],this._updateChildWidgets))}destroy(){this._destroyChildWidgets(),this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}render(){return r("div",{role:"tree",class:a.base},this._childWidgets.map((i=>i.render())))}_destroyChildWidgets(){this._childWidgets.forEach((i=>i.destroy())),this._childWidgets=[]}};i([e({type:l})],g.prototype,"viewModel",void 0),i([e()],g.prototype,"messages",void 0),i([e({nonNullable:!0})],g.prototype,"toggleSiblingsVisibility",void 0),i([e()],g.prototype,"_childWidgets",void 0),g=i([s("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesTree")],g);var c=g;export default c;
