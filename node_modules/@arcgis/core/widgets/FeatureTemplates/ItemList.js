/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{classes as e}from"../support/widgetUtils.js";import{j as t}from"../../chunks/index.js";const i={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};function s(s){const{id:n,identify:o,filterEnabled:a=!0,items:c,messages:m,filterText:u="",onFilterChange:d,renderIcon:f,onItemMouseLeave:g,onItemMouseEnter:I,onItemSelect:p}=s;return t("div",{class:e(i.base,i.widget)},a?l({filterText:u,messages:m,onFilterChange:d,id:n}):null,r({identify:o,items:c,messages:m,filterText:u,renderIcon:f,onItemMouseLeave:g,onItemMouseEnter:I,onItemSelect:p}))}function n(e){return!!e.items}function r(s){const{identify:r,items:l,renderIcon:c,filterText:m,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:f}=s;return 0===l.length?t("div",{class:i.noMatchesMessage,key:"no-matches"},s.messages.noMatches):n(l[0])?t("div",{class:i.scroller,key:"item-container"},l.map((e=>a({group:e,filterText:m,identify:r,renderIcon:c,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:f})))):t("ul",{class:e(i.list,i.scroller),key:"item-container"},l.map((e=>o({item:e,identify:r,grouped:!0,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:f,renderIcon:c,filterText:m}))))}function l(s){const n=`${s.id}-placeholder`;return t("div",{class:i.filterContainer,key:"filter"},t("input",{"aria-labelledby":n,class:e(i.input,i.filterInput),oninput:e=>{const t=e.currentTarget;s.onFilterChange&&s.onFilterChange(t.value)},value:s.filterText,type:"search"}),s.filterText?null:t("div",{class:i.filterPlaceholder,id:n,key:"placeholder"},t("span",{class:i.searchIcon,"aria-hidden":"true"}),t("div",{class:i.filterPlaceholderText},s.messages.filterPlaceholder)))}function o(e){const{identify:s,item:n,grouped:r,filterText:l,onItemSelect:o,onItemMouseEnter:a,onItemMouseLeave:m,renderIcon:u}=e,d=`${s&&s(n)||n.id}__${n.label}`;return t("li",{"aria-level":r?"2":"",class:i.item,"data-item":n,key:d,onclick:e=>{const t=e.currentTarget["data-item"];o&&o(t)},onmouseenter:e=>{const t=e.currentTarget["data-item"];a&&a(t)},onkeydown:e=>{if("Enter"!==e.key&&"Space"!==e.key)return;const t=e.currentTarget["data-item"];o&&o(t)},onmouseleave:e=>{const t=e.currentTarget["data-item"];m&&m(t)},tabIndex:0},t("div",{class:i.itemContainer},u&&u({item:n}),c({text:n.label,match:l})))}function a(s){const{group:n,identify:r,onItemMouseLeave:l,onItemMouseEnter:a,onItemSelect:m,filterText:u,renderIcon:d}=s,f=`${r&&r(n)||n.id}-heading`;return t("section",{"aria-labelledby":f,class:i.group,key:n.label},t("h4",{"aria-level":"1",id:f,class:e(i.groupHeader)},c({text:n.label,match:u})),t("ul",{class:i.list},n.items.map((e=>o({item:e,identify:r,grouped:!0,onItemMouseLeave:l,onItemMouseEnter:a,onItemSelect:m,renderIcon:d,filterText:u})))))}function c(e){const{match:s,text:n}=e;let r=null;if(s){const e=n.toLowerCase(),i=s.toLowerCase(),l=e.indexOf(i);if(-1===l)r=n;else{const e=n.substring(0,l),i=n.substr(l,s.length),o=n.substring(l+s.length);r=t("span",null,e,t("strong",null,i),o)}}else r=n;return t("span",{class:i.itemLabel},r)}export{s as ItemList,a as renderGroup,o as renderItem,c as renderLabel};
