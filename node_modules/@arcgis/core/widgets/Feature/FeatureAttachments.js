/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as t}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/accessorSupport/ensureType.js";import{property as e}from"../../core/accessorSupport/decorators/property.js";import{aliasOf as r}from"../../core/accessorSupport/decorators/aliasOf.js";import{subclass as o}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import{init as s}from"../../core/watchUtils.js";import"../support/widgetUtils.js";import{j as i}from"../../chunks/index.js";import p from"../Widget.js";import a from"../Attachments.js";import n from"./FeatureAttachments/FeatureAttachmentsViewModel.js";import c from"./support/FeatureElementInfo.js";const l={base:"esri-feature-attachments"};let d=class extends p{constructor(t,e){super(t,e),this._featureElementInfo=null,this.attachmentsWidget=new a,this.description=null,this.displayType=null,this.graphic=null,this.title=null,this.viewModel=new n}initialize(){this._featureElementInfo=new c,s(this,["viewModel.description","viewModel.title"],(()=>this._setupFeatureElementInfo())),s(this,"viewModel.graphic",(t=>this.attachmentsWidget.graphic=t))}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var t;const{attachmentsWidget:e}=this;return i("div",{class:l.base},null==(t=this._featureElementInfo)?void 0:t.render(),null==e?void 0:e.render())}_setupFeatureElementInfo(){const{description:t,title:e}=this;this._featureElementInfo.set({description:t,title:e})}};t([e({readOnly:!0})],d.prototype,"attachmentsWidget",void 0),t([r("viewModel.description")],d.prototype,"description",void 0),t([r("attachmentsWidget.displayType")],d.prototype,"displayType",void 0),t([r("viewModel.graphic")],d.prototype,"graphic",void 0),t([r("viewModel.title")],d.prototype,"title",void 0),t([e({type:n})],d.prototype,"viewModel",void 0),d=t([o("esri.widgets.Feature.FeatureAttachments")],d);var m=d;export default m;
