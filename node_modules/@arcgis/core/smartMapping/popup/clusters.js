/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{isSome as r}from"../../core/maybe.js";import e from"../../core/Error.js";import{fetchMessageBundle as t}from"../../intl/messages.js";import{isClusterCompatibleRenderer as s}from"../../views/2d/layers/support/clusterUtils.js";import{createPopupTemplate as a}from"./support/clusterUtils.js";async function l(r){const{layer:t,renderer:a}=r;await t.load();const l=a||t.renderer;if(!s(l))throw new e("clusters-popup:invalid-parameters","'renderer' is not valid");return{layer:t,renderer:l}}async function n(e){const[{renderer:s,layer:n},o]=await Promise.all([l(e),t("esri/smartMapping/t9n/smartMapping")]),i=await a(n,s);let p=null;return r(i)?(p={name:"clusters",title:o.clusters.templateTitle,value:i},{primaryTemplate:p,secondaryTemplates:[]}):null}export{n as getTemplates};
