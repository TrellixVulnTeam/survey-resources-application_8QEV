/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{floatEqualAbsolute as t}from"../../core/mathUtils.js";import{b as n,a as s}from"../../chunks/vec2f64.js";import{i as r,g as e,q as o,a as u,d as a,h as c,p as i,c as f,l as p}from"../../chunks/vec2.js";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,n,s){const e=(n[0]-t[0])*(s[1]-t[1])-(n[1]-t[1])*(s[0]-t[0]);return Math.abs(e)/r(n,s)}function y(t,n,s){const r=e(s,n)/o(s);return u(t,s,r)}function d(t,n,s,r,e=s){return a(g,r,s),a(U,n,e),y(w,U,g),c(t,e,w)}function l(t,n,s,r){a(g,r,s),a(U,n,s);const u=e(g,U)/o(g);return u>0?i(t,s,g,u):f(t,s)}function b(t,n,s,r){a(g,n,s);const e=r/p(g);return i(t,s,g,e)}function j(s,r){return d(U,r,s.start,s.end),t(U[0],r[0])&&t(U[1],r[1])?[n(r)]:[]}function M(s,r,e){return b(U,e,s,r),t(U[0],e[0])&&t(U[1],e[1])?[n(e)]:[]}function k(t,n){const s=t.start,r=t.end,e=n.start,o=n.end,u=a(g,r,s),c=a(x,o,e),f=h(u,c);if(Math.abs(f)<=v)return[];const p=a(U,s,e),m=h(c,p)/f,y=h(u,p)/f;if(m>=0){if(y>=0||1===n.type)return[i(w,s,u,m)]}else if(1===t.type&&(y>=0||1===n.type))return[i(w,s,u,m)];return[]}function q(t,n,s){const r=[],u=a(g,t.end,t.start),c=a(x,t.start,n),f=o(u),p=2*e(u,c),h=p*p-4*f*(o(c)-s*s);if(0===h){const n=-p/(2*f);(1===t.type||n>=0)&&r.push(i(w,t.start,u,n))}else if(h>0){const n=Math.sqrt(h),s=(-p+n)/(2*f);(1===t.type||s>=0)&&r.push(i(w,t.start,u,s));const e=(-p-n)/(2*f);(1===t.type||e>=0)&&r.push(i(U,t.start,u,e))}return r}const v=1e-6,g=s(),x=s(),U=s(),w=s();export{h as cross,M as intersectCircleAndPoint,j as intersectLineAndPoint,k as intersectLineAndRay,q as intersectLineLikeAndCircle,m as pointToLineDistance,y as projectPoint,b as projectPointToCircle,d as projectPointToLine,l as projectPointToRay};
