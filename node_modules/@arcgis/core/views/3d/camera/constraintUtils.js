/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{i as t}from"../../../chunks/vec2.js";import{hasConstraintType as r}from"./constraintUtils/common.js";import{getAltitudeConstraintError as o,applyAltitudeConstraint as i}from"./constraintUtils/altitude.js";export{applyAltitudeConstraint,getAltitudeConstraintError}from"./constraintUtils/altitude.js";import{getDistanceConstraintError as n,applyDistanceConstraint as e}from"./constraintUtils/distance.js";export{applyDistanceConstraint,getDistanceConstraintError}from"./constraintUtils/distance.js";import{applySurfaceCollisionConstraint as s}from"./constraintUtils/surfaceCollision.js";export{applySurfaceCollisionConstraint}from"./constraintUtils/surfaceCollision.js";import{applyTiltConstraint as a,getTiltConstraintError as c}from"./constraintUtils/tilt.js";export{applyTiltConstraint,getTiltConstraintError}from"./constraintUtils/tilt.js";import{inOutCubic as l}from"../../animation/easing.js";function p(t,o,i=d,n=o){let e=!1;n!==o&&n.copyFrom(o),n.markViewDirty(),n.computeUp(t.state.mode);for(let s=0;s<j;s++){let o=0;for(const s of y)if(r(i.selection,s.type)){const r=Math.abs(s.error(t,n,i));s.apply(t,n,i)&&(e=!0,o+=r)}if(0===o)break}const a=r(i.selection,8),c=m(i.interactionType,t);return a&&s(t,n,c)&&(e=!0),e&&n.computeUp(t.state.mode),e}function m(t,r){switch(t){case 4:return 1;case 5:return r.state.isGlobal?2:1;default:return 0}}function f(r,o){const i="number"==typeof r?r:t(r,o),n=Math.min(1,i/150);return l(n)}function u(t,r,o){return c(t,r,o)*r.distance}const y=[{type:1,error:u,apply:a},{type:2,error:o,apply:i},{type:4,error:n,apply:e}],d={selection:15,interactionType:0,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:0},j=5;export{p as applyAll,f as pixelDistanceToInteractionFactor};
