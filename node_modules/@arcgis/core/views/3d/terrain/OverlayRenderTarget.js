/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import"../../../core/has.js";import{disposeMaybe as e}from"../../../core/maybe.js";import"../../../core/mathUtils.js";import{generateUID as r}from"../../../core/uid.js";import"../../../chunks/builtins.js";import"../../webgl/checkWebGLError.js";import{getGpuMemoryUsage as t}from"../../webgl/Util.js";import i from"../../webgl/FramebufferObject.js";class s{constructor(e,t){this.id=r(),this._renderTarget=null,this._renderTarget=new i(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:t,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget=e(this._renderTarget)}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let e=0;return this._renderTarget&&(e+=t(this._renderTarget)),e}}export{s as OverlayRenderTarget};
