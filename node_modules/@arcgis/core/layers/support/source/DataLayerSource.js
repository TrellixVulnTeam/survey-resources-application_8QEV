/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import"../../../core/Logger.js";import{ensureOneOfType as r,ensureType as o}from"../../../core/accessorSupport/ensureType.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import{cast as a}from"../../../core/accessorSupport/decorators/cast.js";import{strict as s}from"../../../core/jsonMap.js";import{enumeration as p}from"../../../core/accessorSupport/decorators/enumeration.js";import{reader as l}from"../../../core/accessorSupport/decorators/reader.js";import{createTypeReader as i}from"../../../core/accessorSupport/extensions/serializableProperty/reader.js";import{subclass as c}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import{JSONSupport as u}from"../../../core/JSONSupport.js";import n from"../Field.js";import{MapLayerSource as y}from"./MapLayerSource.js";import{QueryTableDataSource as b}from"./QueryTableDataSource.js";import{RasterDataSource as d}from"./RasterDataSource.js";import{TableDataSource as m}from"./TableDataSource.js";var S,f;const j=s()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let T=S=class extends u{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,r,o){return g()(e,r,o)}castLeftTableSource(e){return r(L(),e)}readRightTableSource(e,r,o){return g()(e,r,o)}castRightTableSource(e){return r(L(),e)}clone(){var e,r;const{leftTableKey:o,rightTableKey:t,leftTableSource:a,rightTableSource:s,joinType:p}=this,l={leftTableKey:o,rightTableKey:t,leftTableSource:null!=(e=null==a?void 0:a.clone())?e:void 0,rightTableSource:null!=(r=null==s?void 0:s.clone())?r:void 0,joinType:p};return new S(l)}};e([p({joinTable:"join-table"})],T.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],T.prototype,"leftTableKey",void 0),e([t({type:String,json:{write:!0}})],T.prototype,"rightTableKey",void 0),e([t({json:{write:!0}})],T.prototype,"leftTableSource",void 0),e([l("leftTableSource")],T.prototype,"readLeftTableSource",null),e([a("leftTableSource")],T.prototype,"castLeftTableSource",null),e([t({json:{write:!0}})],T.prototype,"rightTableSource",void 0),e([l("rightTableSource")],T.prototype,"readRightTableSource",null),e([a("rightTableSource")],T.prototype,"castRightTableSource",null),e([p(j)],T.prototype,"joinType",void 0),T=S=e([c("esri.layers.support.source.JoinTableDataSource")],T);let h=null;function g(){return h||(h=i({types:L()})),h}let v=null;function L(){return v||(v={key:"type",base:null,typeMap:{"data-layer":K,"map-layer":y}}),v}const w={key:"type",base:null,typeMap:{"join-table":T,"query-table":b,raster:d,table:m}};let K=f=class extends u{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:r}=this;return new f({fields:e,dataSource:r})}};e([p({dataLayer:"data-layer"})],K.prototype,"type",void 0),e([t({type:[n],json:{write:!0}})],K.prototype,"fields",void 0),e([t({types:w,json:{write:!0}})],K.prototype,"dataSource",void 0),K=f=e([c("esri.layers.support.source.DataLayerSource")],K),K.from=o(K);export{K as DataLayerSource,T as JoinTableDataSource};
